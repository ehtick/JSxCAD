import '@jsxcad/algorithm-cgal';

import { boot } from '@jsxcad/sys';
import { fromSvg } from './fromSvg.js';
import fs from 'fs';
import test from 'ava';
import { toPdf } from '@jsxcad/convert-pdf';
import { toSvg } from './toSvg.js';

const { readFile, writeFile } = fs.promises;

Error.stackTraceLimit = Infinity;

test.beforeEach(async (t) => {
  await boot();
});

test('Rectangle', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0"?>
       <svg width="12cm" height="4cm" viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny">
         <desc>Example rect01 - rectangle with sharp corners</desc>
         <!-- Show outline of canvas using 'rect' element -->
         <rect x="1" y="1" width="1198" height="398" fill="none" stroke="violet" stroke-width="2"/>
         <rect x="400" y="100" width="400" height="200" fill="yellow" stroke="navy" stroke-width="10" />
       </svg>
      `
    )
  );

  await writeFile('out.rectangle.json', JSON.stringify(assembly));

  const svg = await toSvg(assembly);
  await writeFile('out.rectangle.svg', svg);

  const pdf = await toPdf(assembly);
  await writeFile('out.rectangle.pdf', pdf);

  t.is(
    new TextDecoder('utf8').decode(svg),
    await readFile('test.rectangle.svg', { encoding: 'utf8' })
  );
  t.is(
    new TextDecoder('utf8').decode(pdf),
    await readFile('test.rectangle.pdf', { encoding: 'utf8' })
  );
});

test('Rounded Rectangle', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0"?>
       <svg width="12cm" height="4cm" viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny">
         <desc>Example rect02 - rounded rectangles</desc>
         <!-- Show outline of canvas using 'rect' element -->
         <rect x="1" y="1" width="1198" height="398" fill="none" stroke="blue" stroke-width="2"/>
         <rect x="100" y="100" width="400" height="200" rx="50" fill="green" />
         <!--<g transform="translate(700 210) rotate(-30)">-->
         <g transform="translate(700 210) rotate(-30)">
           <rect x="0" y="0" width="400" height="200" rx="50" fill="none" stroke="purple" stroke-width="30" />
         </g>
         <g transform="translate(700 210) rotate(-60)">
           <rect x="0" y="0" width="400" height="200" rx="50" fill="none" stroke="purple" stroke-width="30" />
         </g>
       </svg>
      `
    )
  );
  const pdf = await toPdf(assembly);
  await writeFile('out.rounded-rectangle.pdf', pdf);

  const svg = await toSvg(assembly);
  await writeFile('out.rounded-rectangle.svg', svg);

  t.is(
    new TextDecoder('utf8').decode(svg),
    await readFile('test.rounded-rectangle.svg', { encoding: 'utf8' })
  );
  t.is(
    new TextDecoder('utf8').decode(pdf),
    await readFile('test.rounded-rectangle.pdf', { encoding: 'utf8' })
  );
});

test('Polyline', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0"?>
       <svg width="12cm" height="4cm" viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny">
         <desc>Example polyline01 - increasingly larger bars</desc>
         <!-- Show outline of canvas using 'rect' element -->
         <rect x="1" y="1" width="1198" height="398" fill="none" stroke="blue" stroke-width="2" />
         <polyline fill="none" stroke="blue" stroke-width="10" points="50,375 150,375 150,325 250,325 250,375 350,375 350,250 450,250 450,375 550,375 550,175 650,175 650,375 750,375 750,100 850,100 850,375 950,375 950,25 1050,25 1050,375 1150,375" />
       </svg>
      `
    )
  );
  const pdf = await toPdf(assembly);
  await writeFile('out.polyline.pdf', pdf);

  const svg = await toSvg(assembly);
  await writeFile('out.polyline.svg', svg);

  t.is(
    new TextDecoder('utf8').decode(svg),
    await readFile('test.polyline.svg', { encoding: 'utf8' })
  );
  t.is(
    new TextDecoder('utf8').decode(pdf),
    await readFile('test.polyline.pdf', { encoding: 'utf8' })
  );
});

test('Circle', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0"?>
       <svg width="12cm" height="4cm" viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny">
         <desc>Example circle01 - circle filled with red and stroked with blue</desc>
         <!-- Show outline of canvas using 'rect' element -->
         <rect x="1" y="1" width="1198" height="398" fill="none" stroke="blue" stroke-width="2"/>
         <circle cx="600" cy="200" r="100" fill="red" stroke="blue" stroke-width="10"  />
       </svg>
      `
    )
  );
  const pdf = await toPdf(assembly);
  await writeFile('out.circle.pdf', pdf);

  const svg = await toSvg(assembly);
  await writeFile('out.circle.svg', svg);

  t.is(
    new TextDecoder('utf8').decode(svg),
    await readFile('test.circle.svg', { encoding: 'utf8' })
  );
  t.is(
    new TextDecoder('utf8').decode(pdf),
    await readFile('test.circle.pdf', { encoding: 'utf8' })
  );
});

test('Ellipse', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0"?>
       <svg width="12cm" height="4cm" viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny">
         <desc>Example ellipse01 - examples of ellipses</desc>
         <!-- Show outline of canvas using 'rect' element -->
         <rect x="1" y="1" width="1198" height="398" fill="none" stroke="blue" stroke-width="2" />
         <g transform="translate(300 200)">
           <ellipse rx="250" ry="100" fill="red"  />
         </g>
         <ellipse transform="translate(900 200) rotate(-30)" rx="250" ry="100" fill="none" stroke="blue" stroke-width="20"  />
       </svg>
      `
    )
  );
  const pdf = await toPdf(assembly);
  await writeFile('out.ellipse.pdf', pdf);

  const svg = await toSvg(assembly);
  await writeFile('out.ellipse.svg', svg);

  t.is(
    new TextDecoder('utf8').decode(svg),
    await readFile('test.ellipse.svg', { encoding: 'utf8' })
  );
  t.is(
    new TextDecoder('utf8').decode(pdf),
    await readFile('test.ellipse.pdf', { encoding: 'utf8' })
  );
});

test('Polygon', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0"?>
       <svg width="12cm" height="4cm" viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny">
         <desc>Example polygon01 - star and hexagon</desc>
         <!-- Show outline of canvas using 'rect' element -->
         <rect x="1" y="1" width="1198" height="398" fill="none" stroke="blue" stroke-width="2" />
         <polygon fill="red" stroke="blue" stroke-width="10" points="350,75  379,161 469,161 397,215 423,301 350,250 277,301 303,215 231,161 321,161" />
         <polygon fill="lime" stroke="blue" stroke-width="10" points="850,75  958,137.5 958,262.5 850,325 742,262.6 742,137.5" />
       </svg>
      `
    )
  );
  const pdf = await toPdf(assembly);
  await writeFile('out.polygon.pdf', pdf);

  const svg = await toSvg(assembly);
  await writeFile('out.polygon.svg', svg);

  t.is(
    new TextDecoder('utf8').decode(svg),
    await readFile('test.polygon.svg', { encoding: 'utf8' })
  );
  t.is(
    new TextDecoder('utf8').decode(pdf),
    await readFile('test.polygon.pdf', { encoding: 'utf8' })
  );
});

test('Complex', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0"?>
       <svg width="5cm" height="4cm" viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny">
         <title>Example cubic01- cubic BÃ©zier commands in path data</title>
         <desc>Picture showing a simple example of path data using both a "C" and an "S" command, along with annotations showing the control points and end points</desc>
         <rect fill="none" stroke="blue" stroke-width="1" x="1" y="1" width="498" height="398" />
         <polyline fill="none" stroke="#888888" stroke-width="1" points="100,200 100,100" />
         <polyline fill="none" stroke="#888888" stroke-width="1" points="250,100 250,200" />
         <polyline fill="none" stroke="#888888" stroke-width="1" points="250,200 250,300" />
         <polyline fill="none" stroke="#888888" stroke-width="1" points="400,300 400,200" />
         <path fill="none" stroke="red" stroke-width="5" d="M100,200 C100,100 250,100 250,200 S400,300 400,200" />
         <circle fill="#888888" stroke="none" stroke-width="2" cx="100" cy="200" r="10" />
         <circle fill="#888888" stroke="none" stroke-width="2" cx="250" cy="200" r="10" />
         <circle fill="#888888" stroke="none" stroke-width="2" cx="400" cy="200" r="10" />
         <circle fill="#888888" stroke="none" cx="100" cy="100" r="10" />
         <circle fill="#888888" stroke="none" cx="250" cy="100" r="10" />
         <circle fill="#888888" stroke="none" cx="400" cy="300" r="10" />
         <circle fill="none" stroke="blue" stroke-width="4" cx="250" cy="300" r="9" />
         <text font-size="22" font-family="Verdana" x="25" y="70">M100,200 C100,100 250,100 250,200</text>
         <text font-size="22" font-family="Verdana" x="325" y="350" text-anchor="middle">S400,300 400,200</text>
       </svg>
      `
    )
  );
  const pdf = await toPdf(assembly);
  await writeFile('out.complex.pdf', pdf);

  const svg = await toSvg(assembly);
  await writeFile('out.complex.svg', svg);

  t.is(
    new TextDecoder('utf8').decode(svg),
    await readFile('test.complex.svg', { encoding: 'utf8' })
  );
  t.is(
    new TextDecoder('utf8').decode(pdf),
    await readFile('test.complex.pdf', { encoding: 'utf8' })
  );
});

test('Triangle', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0" encoding="UTF-8"?>
       <!-- Generated by jsxcad -->
       <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1 Tiny//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11-tiny.dtd">
       <svg baseProfile="tiny" height="25.000000000000007mm" width="14.330127018922198mm" viewBox="-7.165063509461099 -12.500000000000004 14.330127018922198 25.000000000000007" version="1.1" stroke="black" stroke-width=".1" fill="none" xmlns="http://www.w3.org/2000/svg">
       <path fill="#000000" stroke="#000000" d="M2.165063509461096 3.7499999999999987 L-2.1650635094610964 3.75 L-1.5308084989341913e-16 7.499999999999999 z"/>
       </svg>
      `
    )
  );
  const pdf = await toPdf(assembly);
  await writeFile('out.triangle.pdf', pdf);

  const svg = await toSvg(assembly);
  await writeFile('out.triangle.svg', svg);

  t.is(
    new TextDecoder('utf8').decode(svg),
    await readFile('test.triangle.svg', { encoding: 'utf8' })
  );
  t.is(
    new TextDecoder('utf8').decode(pdf),
    await readFile('test.triangle.pdf', { encoding: 'utf8' })
  );
});

test('Closed path open an iota', async (t) => {
  const assembly = await fromSvg(
    new TextEncoder('utf8').encode(
      `
       <?xml version="1.0" encoding="UTF-8"?>
       <!-- Generated by jsxcad -->
       <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1 Tiny//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11-tiny.dtd">
       <svg baseProfile="tiny" height="25.000000000000007mm" width="14.330127018922198mm" viewBox="-7.165063509461099 -12.500000000000004 14.330127018922198 25.000000000000007" version="1.1" stroke="black" stroke-width=".1" fill="none" xmlns="http://www.w3.org/2000/svg">
<path
       d="m 537.27204,735.26077 c 6.311,4.603 13.089,8.31 20.272,10.749 -0.956,-0.829 -1.856,-1.706 -2.616,-2.678 -3.59,-4.595 -4.551,-9.266 -3.72,-14.394 -4.387,2.75 -9.035,4.902 -13.936,6.323 z m 24.216,8.8 c 3.871,2.586 8.014,4.344 12.625,5.064 0.074,0.012 0.116,0.052 0.184,0.07 5.201,0.211 10.56,-0.273 16.061,-1.59 1.559,-0.374 3.065,-0.83 4.571,-1.286 -8.54,-0.625 -16.422,-4.005 -22.731,-11.752 -5.375,-6.601 -5.612,-13.753 -3.632,-20.718 -3.883,4.404 -8.063,8.374 -12.534,11.753 -2.351,7.205 -1.202,14.011 5.456,18.459 z m -58.613,-38.519 c -1.684,-2.714 -3.258,-5.517 -4.753,-8.387 h 6.976 c 1.685,3.699 5.184,9.997 9.414,15.684 1.409,1.795 2.868,3.555 4.365,5.282 5.755,6.174 12.073,9.678 16.784,4.068 6.774,-8.069 -0.238,-17.307 -7.818,-25.034 h 5.951 c 0.869,0.882 1.733,1.761 2.569,2.639 3.421,3.598 8.553,11.762 14.713,9.387 4.704,-1.813 5.006,-7.458 3.689,-12.026 h 3.976 c 1.175,5.142 0.663,11.612 -3.779,14.382 -4.129,2.575 -9.603,2.043 -13.529,-0.784 1.46,5.697 0.914,12.403 -4.765,15.607 -2.755,1.555 -5.472,2.004 -8.119,1.732 1.267,1.161 2.556,2.289 3.869,3.381 17.068,-3.641 31.668,-17.572 42.852,-34.318 h 5.548 c -0.489,0.786 -0.964,1.582 -1.467,2.357 -0.01,0.295 -0.074,0.6 -0.261,0.916 -6.29,10.679 -13.164,25.364 -0.803,35.06 9.326,7.316 18.122,8.228 28.858,6.113 3.992,-1.89 7.835,-4.021 11.565,-6.335 -9.861,-0.63 -19.122,-6.492 -25.181,-14.806 -4.998,-6.86 -7.701,-14.96 -8.397,-23.305 h 3.671 c 0.34,5.836 1.69,11.455 4.428,15.903 6.962,11.313 18.624,20.764 32.111,17.844 4.874,-3.353 9.627,-6.909 14.367,-10.505 -12.441,-1.163 -23.592,-13.012 -30.269,-22.455 -0.183,-0.259 -0.358,-0.525 -0.539,-0.787 h 4.829 c 7.577,9.999 18.82,21.903 31.519,19.055 6.08,-4.578 12.24,-9.055 18.75,-13.042 -7.85,-0.182 -15.27,-2.277 -22.17,-6.013 h 9.83 c 6.02,2.091 12.52,2.862 19.85,1.765 0.75,-0.391 1.48,-0.806 2.24,-1.18 0.39,-0.193 0.81,-0.39 1.21,-0.585 h 11.01 c -13.19,6.24 -25.57,14.297 -35.57,21.847 -24.43,18.442 -48.485,37.065 -80.698,34.011 -28.083,-2.663 -52.528,-24.422 -66.826,-47.471"
       style="fill:none;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.1;stroke-opacity:1"
       id="path86" /></svg>`
    )
  );
  t.deepEqual(JSON.parse(JSON.stringify(assembly)), {
    type: 'group',
    tags: [],
    content: [
      {
        type: 'segments',
        tags: ['color:#000000'],
        matrix: [
          6.666666666666666,
          0,
          0,
          0,
          0,
          -6.666666666666666,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          1,
          '20/3 0 0 0 0 -20/3 0 0 0 0 1 0 1',
        ],
        segments: [
          [
            [537.27204, 735.26077, 0],
            [539.66043453125, 736.9441684374999, 0],
          ],
          [
            [539.66043453125, 736.9441684374999, 0],
            [544.5656610937499, 740.0415278124999, 0],
          ],
          [
            [544.5656610937499, 740.0415278124999, 0],
            [549.63729390625, 742.7505746874999, 0],
          ],
          [
            [549.63729390625, 742.7505746874999, 0],
            [554.86952046875, 745.0364340625, 0],
          ],
          [
            [554.86952046875, 745.0364340625, 0],
            [557.54404, 746.00977, 0],
          ],
          [
            [557.54404, 746.00977, 0],
            [556.8388525, 745.378285625, 0],
          ],
          [
            [556.8388525, 745.378285625, 0],
            [555.5229775, 744.0436918749999, 0],
          ],
          [
            [555.5229775, 744.0436918749999, 0],
            [554.92804, 743.33177, 0],
          ],
          [
            [554.92804, 743.33177, 0],
            [553.703389609375, 741.6043383593749, 0],
          ],
          [
            [553.703389609375, 741.6043383593749, 0],
            [551.9542607031251, 738.110240703125, 0],
          ],
          [
            [551.9542607031251, 738.110240703125, 0],
            [551.073303671875, 734.534064921875, 0],
          ],
          [
            [551.073303671875, 734.534064921875, 0],
            [550.982049765625, 730.840092265625, 0],
          ],
          [
            [550.982049765625, 730.840092265625, 0],
            [551.20804, 728.93777, 0],
          ],
          [
            [551.20804, 728.93777, 0],
            [547.8689775, 730.8860668750001, 0],
          ],
          [
            [547.8689775, 730.8860668750001, 0],
            [540.9002274999999, 734.060035625, 0],
          ],
          [
            [540.9002274999999, 734.060035625, 0],
            [537.27204, 735.26077, 0],
          ],
          [
            [561.48804, 744.0607699999999, 0],
            [564.4453525, 745.8417387499999, 0],
          ],
          [
            [564.4453525, 745.8417387499999, 0],
            [569.1127665624999, 747.88793796875, 0],
          ],
          [
            [569.1127665624999, 747.88793796875, 0],
            [572.4054696875, 748.8065239062499, 0],
          ],
          [
            [572.4054696875, 748.8065239062499, 0],
            [574.11304, 749.1247699999999, 0],
          ],
          [
            [574.11304, 749.1247699999999, 0],
            [574.2970399999999, 749.19477, 0],
          ],
          [
            [574.2970399999999, 749.19477, 0],
            [578.2271649999999, 749.22055125, 0],
          ],
          [
            [578.2271649999999, 749.22055125, 0],
            [586.2591649999999, 748.4384887499998, 0],
          ],
          [
            [586.2591649999999, 748.4384887499998, 0],
            [590.35804, 747.6047699999999, 0],
          ],
          [
            [590.35804, 747.6047699999999, 0],
            [591.518180625, 747.3101762499998, 0],
          ],
          [
            [591.518180625, 747.3101762499998, 0],
            [593.798711875, 746.6594887499999, 0],
          ],
          [
            [593.798711875, 746.6594887499999, 0],
            [594.92904, 746.31877, 0],
          ],
          [
            [594.92904, 746.31877, 0],
            [591.759170859375, 745.9521059374999, 0],
          ],
          [
            [591.759170859375, 745.9521059374999, 0],
            [585.647385703125, 744.3683715625, 0],
          ],
          [
            [585.647385703125, 744.3683715625, 0],
            [579.911022421875, 741.5248246875001, 0],
          ],
          [
            [579.911022421875, 741.5248246875001, 0],
            [574.6358622656251, 737.2703403125, 0],
          ],
          [
            [574.6358622656251, 737.2703403125, 0],
            [572.19804, 734.56677, 0],
          ],
          [
            [572.19804, 734.56677, 0],
            [571.2497253027343, 733.3228056445313, 0],
          ],
          [
            [571.2497253027343, 733.3228056445313, 0],
            [569.6972462988281, 730.8004589648438, 0],
          ],
          [
            [569.6972462988281, 730.8004589648438, 0],
            [568.1647216406251, 726.94710984375, 0],
          ],
          [
            [568.1647216406251, 726.94710984375, 0],
            [567.427873984375, 721.72436765625, 0],
          ],
          [
            [567.427873984375, 721.72436765625, 0],
            [567.933166953125, 716.4679692187501, 0],
          ],
          [
            [567.933166953125, 716.4679692187501, 0],
            [568.56604, 713.8487700000001, 0],
          ],
          [
            [568.56604, 713.8487700000001, 0],
            [565.59819625, 717.067941875, 0],
          ],
          [
            [565.59819625, 717.067941875, 0],
            [559.3306337500001, 722.959160625, 0],
          ],
          [
            [559.3306337500001, 722.959160625, 0],
            [556.03204, 725.6017700000001, 0],
          ],
          [
            [556.03204, 725.6017700000001, 0],
            [555.318401328125, 728.2811157031252, 0],
          ],
          [
            [555.318401328125, 728.2811157031252, 0],
            [554.9146779394532, 732.1797790332033, 0],
          ],
          [
            [554.9146779394532, 732.1797790332033, 0],
            [555.1243522558595, 734.6651720996097, 0],
          ],
          [
            [555.1243522558595, 734.6651720996097, 0],
            [555.7445519628907, 737.0328093066408, 0],
          ],
          [
            [555.7445519628907, 737.0328093066408, 0],
            [556.7988200292968, 739.2597336230472, 0],
          ],
          [
            [556.7988200292968, 739.2597336230472, 0],
            [558.3106994238283, 741.3229880175782, 0],
          ],
          [
            [558.3106994238283, 741.3229880175782, 0],
            [560.3037331152343, 743.1996154589845, 0],
          ],
          [
            [560.3037331152343, 743.1996154589845, 0],
            [561.4880400000001, 744.06077, 0],
          ],
          [
            [561.4880400000001, 744.06077, 0],
            [561.48804, 744.0607699999999, 0],
          ],
          [
            [502.87503999999996, 705.5417699999999, 0],
            [501.63218062499993, 703.4899262499998, 0],
          ],
          [
            [501.63218062499993, 703.4899262499998, 0],
            [499.258586875, 699.2943637499999, 0],
          ],
          [
            [499.258586875, 699.2943637499999, 0],
            [498.12203999999997, 697.1547699999999, 0],
          ],
          [
            [498.12203999999997, 697.1547699999999, 0],
            [505.09803999999997, 697.1547699999999, 0],
          ],
          [
            [505.09803999999997, 697.1547699999999, 0],
            [506.684993125, 700.3661762499999, 0],
          ],
          [
            [506.684993125, 700.3661762499999, 0],
            [511.49352437499994, 708.5091137499999, 0],
          ],
          [
            [511.49352437499994, 708.5091137499999, 0],
            [514.51204, 712.8387699999998, 0],
          ],
          [
            [514.51204, 712.8387699999998, 0],
            [515.5779775, 714.1784887499998, 0],
          ],
          [
            [515.5779775, 714.1784887499998, 0],
            [517.7616025, 716.8193012499999, 0],
          ],
          [
            [517.7616025, 716.8193012499999, 0],
            [518.87704, 718.1207699999999, 0],
          ],
          [
            [518.87704, 718.1207699999999, 0],
            [521.0573173437499, 720.2982778124999, 0],
          ],
          [
            [521.0573173437499, 720.2982778124999, 0],
            [524.3710707617186, 722.9300131640624, 0],
          ],
          [
            [524.3710707617186, 722.9300131640624, 0],
            [526.5720463476562, 724.1513588671875, 0],
          ],
          [
            [526.5720463476562, 724.1513588671875, 0],
            [528.7367992773438, 724.8580873828125, 0],
          ],
          [
            [528.7367992773438, 724.8580873828125, 0],
            [530.8398998632813, 724.9746830859374, 0],
          ],
          [
            [530.8398998632813, 724.9746830859374, 0],
            [532.8559184179687, 724.4256303515624, 0],
          ],
          [
            [532.8559184179687, 724.4256303515624, 0],
            [534.7594252539062, 723.1354135546874, 0],
          ],
          [
            [534.7594252539062, 723.1354135546874, 0],
            [535.66104, 722.1887699999999, 0],
          ],
          [
            [535.66104, 722.1887699999999, 0],
            [536.7728373632813, 720.6627875781248, 0],
          ],
          [
            [536.7728373632813, 720.6627875781248, 0],
            [538.1045531835937, 717.544330546875, 0],
          ],
          [
            [538.1045531835937, 717.544330546875, 0],
            [538.3761791601562, 714.3633891406248, 0],
          ],
          [
            [538.3761791601562, 714.3633891406248, 0],
            [537.7426137304687, 711.1513696093748, 0],
          ],
          [
            [537.7426137304687, 711.1513696093748, 0],
            [536.3587553320313, 707.9396782031249, 0],
          ],
          [
            [536.3587553320313, 707.9396782031249, 0],
            [534.3795024023437, 704.759721171875, 0],
          ],
          [
            [534.3795024023437, 704.759721171875, 0],
            [530.63309859375, 700.1179887499998, 0],
          ],
          [
            [530.63309859375, 700.1179887499998, 0],
            [527.84304, 697.1547699999999, 0],
          ],
          [
            [527.84304, 697.1547699999999, 0],
            [533.79404, 697.1547699999999, 0],
          ],
          [
            [533.79404, 697.1547699999999, 0],
            [536.36304, 699.7937699999999, 0],
          ],
          [
            [536.36304, 699.7937699999999, 0],
            [539.2389306250001, 703.1123793749998, 0],
          ],
          [
            [539.2389306250001, 703.1123793749998, 0],
            [543.6385314550782, 707.5111623339842, 0],
          ],
          [
            [543.6385314550782, 707.5111623339842, 0],
            [545.6230553808595, 708.7807028613279, 0],
          ],
          [
            [545.6230553808595, 708.7807028613279, 0],
            [547.7239640722656, 709.5047414355469, 0],
          ],
          [
            [547.7239640722656, 709.5047414355469, 0],
            [549.9332536230468, 709.5062663378906, 0],
          ],
          [
            [549.9332536230468, 709.5062663378906, 0],
            [551.0760399999999, 709.1807699999999, 0],
          ],
          [
            [551.0760399999999, 709.1807699999999, 0],
            [551.9071335058593, 708.7971247363281, 0],
          ],
          [
            [551.9071335058593, 708.7971247363281, 0],
            [553.276111533203, 707.7891603808594, 0],
          ],
          [
            [553.276111533203, 707.7891603808594, 0],
            [554.6577060156249, 705.783393046875, 0],
          ],
          [
            [554.6577060156249, 705.783393046875, 0],
            [555.416889609375, 702.4892563281248, 0],
          ],
          [
            [555.416889609375, 702.4892563281248, 0],
            [555.177588828125, 698.908666484375, 0],
          ],
          [
            [555.177588828125, 698.908666484375, 0],
            [554.7650399999999, 697.15477, 0],
          ],
          [
            [554.7650399999999, 697.15477, 0],
            [558.7410399999999, 697.15477, 0],
          ],
          [
            [558.7410399999999, 697.15477, 0],
            [559.0982060156249, 699.1354496875001, 0],
          ],
          [
            [559.0982060156249, 699.1354496875001, 0],
            [559.2329286718748, 703.2346215625, 0],
          ],
          [
            [559.2329286718748, 703.2346215625, 0],
            [558.4196044531249, 707.1247309375001, 0],
          ],
          [
            [558.4196044531249, 707.1247309375001, 0],
            [557.0609582128905, 709.6215541796875, 0],
          ],
          [
            [557.0609582128905, 709.6215541796875, 0],
            [555.7494079199217, 710.9752631640623, 0],
          ],
          [
            [555.7494079199217, 710.9752631640623, 0],
            [554.9620399999999, 711.5367699999999, 0],
          ],
          [
            [554.9620399999999, 711.5367699999999, 0],
            [553.3562685156248, 712.3583403124999, 0],
          ],
          [
            [553.3562685156248, 712.3583403124999, 0],
            [549.9020536718749, 713.1656996874999, 0],
          ],
          [
            [549.9020536718749, 713.1656996874999, 0],
            [546.3502919531248, 712.9221215625, 0],
          ],
          [
            [546.3502919531248, 712.9221215625, 0],
            [542.9722021093748, 711.7037309374999, 0],
          ],
          [
            [542.9722021093748, 711.7037309374999, 0],
            [541.4330399999999, 710.7527699999999, 0],
          ],
          [
            [541.4330399999999, 710.7527699999999, 0],
            [541.8804013281249, 712.9276313281248, 0],
          ],
          [
            [541.8804013281249, 712.9276313281248, 0],
            [542.0643583593749, 717.349682109375, 0],
          ],
          [
            [542.0643583593749, 717.349682109375, 0],
            [541.4361183691406, 720.5213581347656, 0],
          ],
          [
            [541.4361183691406, 720.5213581347656, 0],
            [540.5837223730467, 722.4677082324217, 0],
          ],
          [
            [540.5837223730467, 722.4677082324217, 0],
            [539.341718955078, 724.217904033203, 0],
          ],
          [
            [539.341718955078, 724.217904033203, 0],
            [537.6734635839841, 725.7190822558593, 0],
          ],
          [
            [537.6734635839841, 725.7190822558593, 0],
            [536.6680399999999, 726.3597699999999, 0],
          ],
          [
            [536.6680399999999, 726.3597699999999, 0],
            [534.6094149999999, 727.324660625, 0],
          ],
          [
            [534.6094149999999, 727.324660625, 0],
            [530.5469149999999, 728.154566875, 0],
          ],
          [
            [530.5469149999999, 728.154566875, 0],
            [528.5490399999999, 728.0917699999999, 0],
          ],
          [
            [528.5490399999999, 728.0917699999999, 0],
            [529.5034462499998, 728.9562856249999, 0],
          ],
          [
            [529.5034462499998, 728.9562856249999, 0],
            [531.4377587500001, 730.6470668749998, 0],
          ],
          [
            [531.4377587500001, 730.6470668749998, 0],
            [532.4180399999999, 731.4727699999999, 0],
          ],
          [
            [532.4180399999999, 731.4727699999999, 0],
            [535.5891366796875, 730.6713215136717, 0],
          ],
          [
            [535.5891366796875, 730.6713215136717, 0],
            [541.7522441015624, 728.3887077441404, 0],
          ],
          [
            [541.7522441015624, 728.3887077441404, 0],
            [547.6673124609373, 725.2728029589841, 0],
          ],
          [
            [547.6673124609373, 725.2728029589841, 0],
            [553.3232323828124, 721.4112048144528, 0],
          ],
          [
            [553.3232323828124, 721.4112048144528, 0],
            [558.7088944921875, 716.8915109667967, 0],
          ],
          [
            [558.7088944921875, 716.8915109667967, 0],
            [563.8131894140623, 711.8013190722654, 0],
          ],
          [
            [563.8131894140623, 711.8013190722654, 0],
            [568.6250077734373, 706.2282267871094, 0],
          ],
          [
            [568.6250077734373, 706.2282267871094, 0],
            [573.1332401953124, 700.259831767578, 0],
          ],
          [
            [573.1332401953124, 700.259831767578, 0],
            [575.2700399999999, 697.1547699999999, 0],
          ],
          [
            [575.2700399999999, 697.1547699999999, 0],
            [580.8180399999999, 697.1547699999999, 0],
          ],
          [
            [580.8180399999999, 697.1547699999999, 0],
            [579.3510399999999, 699.5117699999998, 0],
          ],
          [
            [579.3510399999999, 699.5117699999998, 0],
            [579.3323368749999, 699.7349106249999, 0],
          ],
          [
            [579.3323368749999, 699.7349106249999, 0],
            [579.208305625, 700.1928168749998, 0],
          ],
          [
            [579.208305625, 700.1928168749998, 0],
            [579.0900399999999, 700.4277699999999, 0],
          ],
          [
            [579.0900399999999, 700.4277699999999, 0],
            [576.7426239843749, 704.6026078906248, 0],
          ],
          [
            [576.7426239843749, 704.6026078906248, 0],
            [573.6268991308593, 711.3384596972655, 0],
          ],
          [
            [573.6268991308593, 711.3384596972655, 0],
            [572.1587189550781, 715.9910344042967, 0],
          ],
          [
            [572.1587189550781, 715.9910344042967, 0],
            [571.4486774511718, 720.650236064453, 0],
          ],
          [
            [571.4486774511718, 720.650236064453, 0],
            [571.7290285253905, 725.2106545214842, 0],
          ],
          [
            [571.7290285253905, 725.2106545214842, 0],
            [573.2320260839844, 729.5668796191405, 0],
          ],
          [
            [573.2320260839844, 729.5668796191405, 0],
            [576.189924033203, 733.6135012011719, 0],
          ],
          [
            [576.189924033203, 733.6135012011719, 0],
            [578.2870399999999, 735.48777, 0],
          ],
          [
            [578.2870399999999, 735.48777, 0],
            [580.0300570898437, 736.7852975878906, 0],
          ],
          [
            [580.0300570898437, 736.7852975878906, 0],
            [583.4932983007811, 738.9498586230468, 0],
          ],
          [
            [583.4932983007811, 738.9498586230468, 0],
            [586.9502699804686, 740.573405986328, 0],
          ],
          [
            [586.9502699804686, 740.573405986328, 0],
            [590.4299174414061, 741.6955138964843, 0],
          ],
          [
            [590.4299174414061, 741.6955138964843, 0],
            [593.9611859960937, 742.3557565722655, 0],
          ],
          [
            [593.9611859960937, 742.3557565722655, 0],
            [597.5730209570312, 742.5937082324217, 0],
          ],
          [
            [597.5730209570312, 742.5937082324217, 0],
            [603.20515328125, 742.2454086718749, 0],
          ],
          [
            [603.20515328125, 742.2454086718749, 0],
            [607.1450399999999, 741.60077, 0],
          ],
          [
            [607.1450399999999, 741.60077, 0],
            [610.1116649999999, 740.13898875, 0],
          ],
          [
            [610.1116649999999, 740.13898875, 0],
            [615.8907899999999, 736.9660512500001, 0],
          ],
          [
            [615.8907899999999, 736.9660512500001, 0],
            [618.7100399999999, 735.26577, 0],
          ],
          [
            [618.7100399999999, 735.26577, 0],
            [616.8687690039062, 735.0870112109374, 0],
          ],
          [
            [616.8687690039062, 735.0870112109374, 0],
            [613.2436606054687, 734.3779076953125, 0],
          ],
          [
            [613.2436606054687, 734.3779076953125, 0],
            [609.7205404882812, 733.2271713671875, 0],
          ],
          [
            [609.7205404882812, 733.2271713671875, 0],
            [606.3299008398437, 731.6673803515624, 0],
          ],
          [
            [606.3299008398437, 731.6673803515624, 0],
            [603.1022338476562, 729.7311127734374, 0],
          ],
          [
            [603.1022338476562, 729.7311127734374, 0],
            [600.0680316992186, 727.4509467578125, 0],
          ],
          [
            [600.0680316992186, 727.4509467578125, 0],
            [597.2577865820313, 724.8594604296875, 0],
          ],
          [
            [597.2577865820313, 724.8594604296875, 0],
            [594.7019906835937, 721.9892319140624, 0],
          ],
          [
            [594.7019906835937, 721.9892319140624, 0],
            [593.5290399999999, 720.4597699999999, 0],
          ],
          [
            [593.5290399999999, 720.4597699999999, 0],
            [591.761805625, 717.8310883593749, 0],
          ],
          [
            [591.761805625, 717.8310883593749, 0],
            [588.8593056249998, 712.2716157031249, 0],
          ],
          [
            [588.8593056249998, 712.2716157031249, 0],
            [586.7769306249999, 706.3870649218749, 0],
          ],
          [
            [586.7769306249999, 706.3870649218749, 0],
            [585.4876806249999, 700.270717265625, 0],
          ],
          [
            [585.4876806249999, 700.270717265625, 0],
            [585.1320399999998, 697.15477, 0],
          ],
          [
            [585.1320399999998, 697.15477, 0],
            [588.8030399999999, 697.15477, 0],
          ],
          [
            [588.8030399999999, 697.15477, 0],
            [588.9786220312499, 699.33123484375, 0],
          ],
          [
            [588.9786220312499, 699.33123484375, 0],
            [589.6315673437499, 703.57841453125, 0],
          ],
          [
            [589.6315673437499, 703.57841453125, 0],
            [590.7164189062499, 707.61006296875, 0],
          ],
          [
            [590.7164189062499, 707.61006296875, 0],
            [592.2686142187499, 711.3367426562501, 0],
          ],
          [
            [592.2686142187499, 711.3367426562501, 0],
            [593.2310399999999, 713.05777, 0],
          ],
          [
            [593.2310399999999, 713.05777, 0],
            [594.5907912207031, 715.1545715136717, 0],
          ],
          [
            [594.5907912207031, 715.1545715136717, 0],
            [597.6239167089843, 719.1556764941406, 0],
          ],
          [
            [597.6239167089843, 719.1556764941406, 0],
            [601.0471300878905, 722.7974904589844, 0],
          ],
          [
            [601.0471300878905, 722.7974904589844, 0],
            [604.8267399511718, 725.9568610644532, 0],
          ],
          [
            [604.8267399511718, 725.9568610644532, 0],
            [608.9290548925779, 728.5106359667968, 0],
          ],
          [
            [608.9290548925779, 728.5106359667968, 0],
            [613.3203835058594, 730.3356628222657, 0],
          ],
          [
            [613.3203835058594, 730.3356628222657, 0],
            [617.9670343847656, 731.3087892871094, 0],
          ],
          [
            [617.9670343847656, 731.3087892871094, 0],
            [622.8353161230468, 731.306863017578, 0],
          ],
          [
            [622.8353161230468, 731.306863017578, 0],
            [625.3420399999999, 730.90177, 0],
          ],
          [
            [625.3420399999999, 730.90177, 0],
            [628.9765399999999, 728.3515043750001, 0],
          ],
          [
            [628.9765399999999, 728.3515043750001, 0],
            [636.1499149999997, 723.083723125, 0],
          ],
          [
            [636.1499149999997, 723.083723125, 0],
            [639.7090399999998, 720.3967700000001, 0],
          ],
          [
            [639.7090399999998, 720.3967700000001, 0],
            [637.3922470312498, 720.0566772265626, 0],
          ],
          [
            [637.3922470312498, 720.0566772265626, 0],
            [632.8680204687497, 718.7018432421876, 0],
          ],
          [
            [632.8680204687497, 718.7018432421876, 0],
            [628.5207001562497, 716.5753295703128, 0],
          ],
          [
            [628.5207001562497, 716.5753295703128, 0],
            [624.3875985937498, 713.8305580859377, 0],
          ],
          [
            [624.3875985937498, 713.8305580859377, 0],
            [620.5060282812497, 710.6209506640625, 0],
          ],
          [
            [620.5060282812497, 710.6209506640625, 0],
            [616.9133017187498, 707.0999291796877, 0],
          ],
          [
            [616.9133017187498, 707.0999291796877, 0],
            [612.1474149999999, 701.5701059375, 0],
          ],
          [
            [612.1474149999999, 701.5701059375, 0],
            [609.4400399999998, 697.94177, 0],
          ],
          [
            [609.4400399999998, 697.94177, 0],
            [608.9010399999999, 697.15477, 0],
          ],
          [
            [608.9010399999999, 697.15477, 0],
            [613.7300399999998, 697.15477, 0],
          ],
          [
            [613.7300399999998, 697.15477, 0],
            [616.7389423437498, 700.961158671875, 0],
          ],
          [
            [616.7389423437498, 700.961158671875, 0],
            [621.8400570898434, 706.5786066699219, 0],
          ],
          [
            [621.8400570898434, 706.5786066699219, 0],
            [625.594872519531, 709.9774831347656, 0],
          ],
          [
            [625.594872519531, 709.9774831347656, 0],
            [629.6027309179685, 712.8717560839843, 0],
          ],
          [
            [629.6027309179685, 712.8717560839843, 0],
            [633.837733847656, 715.066226298828, 0],
          ],
          [
            [633.837733847656, 715.066226298828, 0],
            [638.2739828710935, 716.3656945605468, 0],
          ],
          [
            [638.2739828710935, 716.3656945605468, 0],
            [642.8855795507811, 716.5749616503906, 0],
          ],
          [
            [642.8855795507811, 716.5749616503906, 0],
            [645.2490399999998, 716.2097699999999, 0],
          ],
          [
            [645.2490399999998, 716.2097699999999, 0],
            [649.8282587499998, 712.801285625, 0],
          ],
          [
            [649.8282587499998, 712.801285625, 0],
            [659.1779462499999, 706.243816875, 0],
          ],
          [
            [659.1779462499999, 706.243816875, 0],
            [663.9990399999998, 703.1677699999999, 0],
          ],
          [
            [663.9990399999998, 703.1677699999999, 0],
            [661.0756220312498, 703.0103793749998, 0],
          ],
          [
            [661.0756220312498, 703.0103793749998, 0],
            [655.3539423437498, 702.1703168749998, 0],
          ],
          [
            [655.3539423437498, 702.1703168749998, 0],
            [649.8061689062499, 700.6511293749998, 0],
          ],
          [
            [649.8061689062499, 700.6511293749998, 0],
            [644.4407392187499, 698.4783168749998, 0],
          ],
          [
            [644.4407392187499, 698.4783168749998, 0],
            [641.8290399999998, 697.1547699999999, 0],
          ],
          [
            [641.8290399999998, 697.1547699999999, 0],
            [651.6590399999999, 697.1547699999999, 0],
          ],
          [
            [651.6590399999999, 697.1547699999999, 0],
            [653.9397235937498, 697.8759496874998, 0],
          ],
          [
            [653.9397235937498, 697.8759496874998, 0],
            [658.6524970312498, 698.9213715624999, 0],
          ],
          [
            [658.6524970312498, 698.9213715624999, 0],
            [663.5944892187499, 699.3947309374998, 0],
          ],
          [
            [663.5944892187499, 699.3947309374998, 0],
            [668.79851265625, 699.2446528124999, 0],
          ],
          [
            [668.79851265625, 699.2446528124999, 0],
            [671.5090399999999, 698.9197699999999, 0],
          ],
          [
            [671.5090399999999, 698.9197699999999, 0],
            [673.7490399999999, 697.7397699999999, 0],
          ],
          [
            [673.7490399999999, 697.7397699999999, 0],
            [674.95904, 697.1547699999999, 0],
          ],
          [
            [674.95904, 697.1547699999999, 0],
            [685.96904, 697.1547699999999, 0],
          ],
          [
            [685.96904, 697.1547699999999, 0],
            [681.06382515625, 699.5754028124999, 0],
          ],
          [
            [681.06382515625, 699.5754028124999, 0],
            [671.55480171875, 704.8187621874999, 0],
          ],
          [
            [671.55480171875, 704.8187621874999, 0],
            [662.5703095312499, 710.4166840624998, 0],
          ],
          [
            [662.5703095312499, 710.4166840624998, 0],
            [654.2575360937499, 716.1512934374998, 0],
          ],
          [
            [654.2575360937499, 716.1512934374998, 0],
            [650.3990399999999, 719.0017699999999, 0],
          ],
          [
            [650.3990399999999, 719.0017699999999, 0],
            [641.2387021093749, 725.8833129687498, 0],
          ],
          [
            [641.2387021093749, 725.8833129687498, 0],
            [627.3453717871092, 735.6771191210936, 0],
          ],
          [
            [627.3453717871092, 735.6771191210936, 0],
            [617.8354416113281, 741.4804345507811, 0],
          ],
          [
            [617.8354416113281, 741.4804345507811, 0],
            [608.0106813574217, 746.4041991992186, 0],
          ],
          [
            [608.0106813574217, 746.4041991992186, 0],
            [597.7710949316406, 750.1922646289061, 0],
          ],
          [
            [597.7710949316406, 750.1922646289061, 0],
            [589.7590215368651, 752.1339217944335, 0],
          ],
          [
            [589.7590215368651, 752.1339217944335, 0],
            [584.2359247961424, 752.9400432543944, 0],
          ],
          [
            [584.2359247961424, 752.9400432543944, 0],
            [578.5528737097166, 753.3181564135741, 0],
          ],
          [
            [578.5528737097166, 753.3181564135741, 0],
            [572.697368765869, 753.236242717285, 0],
          ],
          [
            [572.697368765869, 753.236242717285, 0],
            [569.7010399999999, 753.0127699999998, 0],
          ],
          [
            [569.7010399999999, 753.0127699999998, 0],
            [567.0791155920409, 752.7077118334959, 0],
          ],
          [
            [567.0791155920409, 752.7077118334959, 0],
            [561.9039833288573, 751.7749651293942, 0],
          ],
          [
            [561.9039833288573, 751.7749651293942, 0],
            [556.8284186926269, 750.4337804370114, 0],
          ],
          [
            [556.8284186926269, 750.4337804370114, 0],
            [551.8619563513182, 748.7102407641598, 0],
          ],
          [
            [551.8619563513182, 748.7102407641598, 0],
            [544.6376867285155, 745.4650722460935, 0],
          ],
          [
            [544.6376867285155, 745.4650722460935, 0],
            [535.4761754980469, 740.043379863281, 0],
          ],
          [
            [535.4761754980469, 740.043379863281, 0],
            [526.922697470703, 733.5617616992186, 0],
          ],
          [
            [526.922697470703, 733.5617616992186, 0],
            [519.0535299902342, 726.2288818164061, 0],
          ],
          [
            [519.0535299902342, 726.2288818164061, 0],
            [511.94495040039044, 718.2534042773434, 0],
          ],
          [
            [511.94495040039044, 718.2534042773434, 0],
            [505.67323604492174, 709.843993144531, 0],
          ],
          [
            [505.67323604492174, 709.843993144531, 0],
            [502.8750399999999, 705.5417699999998, 0],
          ],
          [
            [502.8750399999999, 705.5417699999998, 0],
            [502.87503999999996, 705.5417699999999, 0],
          ],
        ],
      },
    ],
  });
});
